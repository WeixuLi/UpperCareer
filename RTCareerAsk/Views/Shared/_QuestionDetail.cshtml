@model RTCareerAsk.Models.QuestionModel
@{
    bool IsAuthorized = ViewBag.IsAuthorized != null ? Convert.ToBoolean(ViewBag.IsAuthorized) : false;
    bool IsAdmin = ViewBag.IsAdmin != null ? Convert.ToBoolean(ViewBag.IsAdmin) : false;
}
<div class="question-detail">
    <div class="box">
        <div class="header">
            <div class="title">
                <h4>@Model.Title</h4>
                <p>@(Model.IsLike == null ? "没有表示" : Model.IsLike==true ? "喜欢" : "讨厌")</p>
            </div>
            @Html.UpperNameTag(Model.Creator)
        </div>
        <div id="@string.Format("divQContent{0}", Model.ID)" class="content">
            @Html.Raw(HttpUtility.HtmlDecode(Model.Content))
        </div>
        <div class="action">
            @if (Model.Creator != null && IsAuthorized)
            {
                if (Model.IsEditAllowed)
                {
                <a id="btnEditQuestion" href="#" class="btn btn-warning">编辑问题</a>
                }
                else if (Model.IsAnswerAllowed)
                {
                <a href="#divAnsForm" id="btnWriteAnswer" role="button" data-toggle="collapse" class="btn btn-default" aria-expanded="false" aria-controls="collapseExample">我要回答</a>
                }
                else
                {
                <a href="#divAnsForm" id="btnWriteAnswer" role="button" data-toggle="collapse" style="display: none" class="btn btn-default" aria-expanded="false" aria-controls="collapseExample">我要回答</a>
                }
            }
        </div>
    </div>
    <div class="editor">
        @if (IsAuthorized)
        {
            @Html.Partial("_AnswerForm", new RTCareerAsk.Models.AnswerPostModel() { QuestionID = Model.ID, NotifyUserID = Model.Creator.UserID })
        }
    </div>
</div>
